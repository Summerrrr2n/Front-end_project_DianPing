{"version":3,"sources":["containers/ProductDetail/components/ProductOverview/index.js","containers/ProductDetail/components/ShopInfo/index.js","containers/ProductDetail/components/Detail/index.js","containers/ProductDetail/components/Remark/index.js","containers/ProductDetail/components/BuyButton/index.js","containers/ProductDetail/index.js","components/Header/index.js"],"names":["ProductOverview","_this$props$data","this","props","data","id","shop","picture","description","currentPrice","oldPrice","react_default","a","createElement","className","alt","src","react_router_dom","to","concat","Component","ShopInfo","_this$props","relatedShop","total","name","star","address","phone","style","width","href","Detail","_this$props$data$deta","detail","category","products","remark","cellPadding","cellSpacing","colSpan","map","item","index","key","quantity","price","Remark","purchaseNotes","validityPeriod","title","content","BuyButton","productId","ProductDetail","handleBack","_this","history","goBack","product","Header","onBack","grey","ProductOverview_ProductOverview","ShopInfo_ShopInfo","shopIds","length","components_Detail","Remark_Remark","BuyButton_BuyButton","detailActions","loadShopById","nearestShop","match","params","loadProductDetail","preProps","connect","state","getProduct","getRelatedShop","dispatch","bindActionCreators","backgroundColor","react__WEBPACK_IMPORTED_MODULE_5___default","onClick"],"mappings":"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","file":"static/js/5.daa53db4.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\n\r\nexport default class ProductOverview extends Component {\r\n    render() {\r\n        const { id, shop, picture, description, currentPrice, oldPrice }= this.props.data\r\n        return (\r\n            <div className='productOverview'>\r\n                <div className='productOverview__header'>\r\n                    <div className='productOverview__imgContainer'>\r\n                        <img alt='' className='productOverview__img' \r\n                        src={picture}/>\r\n                    </div>\r\n                    <div className='productOverview__baseInfo'>\r\n                        <div className='productOverview__title'>{shop}</div>\r\n                        <div className='productOverview__content'>{description}</div>\r\n                    </div>\r\n                </div>\r\n                <div className='productOverview__purchase'>\r\n                    <span className='productOverview__symbol'>¥</span>\r\n                    <span className='productOverview__price'>{currentPrice}</span>\r\n                    <span className='productOverview__price--old'>{oldPrice}</span>\r\n                    <Link className='productOverview__btn' \r\n                     to={`/purchase/${id}`}>立即购买</Link>\r\n                </div>\r\n                <ul className='productOverview__remark'>\r\n                    <li className='productOverview__remarkItem'>\r\n                        <i className='productOverview__sign1'></i>\r\n                        <span className='productOverview__desc'>随时可退</span>\r\n                    </li>\r\n                    <li className='productOverview__remarkItem'>\r\n                        <i className='productOverview__sign2'></i>\r\n                        <span className='productOverview__desc'>过期自动退</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nexport default class ShopInfo extends Component {\r\n    render() {\r\n        const { data:relatedShop, total } = this.props\r\n        const { shop:name, star, address, phone} = relatedShop\r\n        return (\r\n            <div className='shopInfo'>\r\n                <div className='shopInfo__header'>\r\n                    使用商户({total})\r\n                    <span className='shopInfo__arrow'></span>\r\n                </div>\r\n                <div className='shopInfo__middle'>\r\n                    <div className='shopInfo__middleLeft'>\r\n                        <div className='shopInfo__shopName'>{name}</div>\r\n                        <div className='shopInfo__starsWrapper'>\r\n                            <span className='shopInfo__stars'>\r\n                                <i className='shopInfo__stars--red' \r\n                                style={{'width': 2*star+'%'}}></i>\r\n                            </span>\r\n                            <span className='shopInfo__distance'> &gt;100km</span>\r\n                        </div>\r\n                    </div>\r\n                    <a className='shopInfo__middleRight' href={`tel://${phone}`}>\r\n                        <i className='shopInfo__phoneIcon'></i>\r\n                    </a>\r\n                </div>\r\n                <div className='shopInfo__bottom'>\r\n                    <i className='shopInfo__locationIcon'></i>{address}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\"\r\n\r\n class Detail extends Component {\r\n    render() {\r\n        const { detail: {category, products, remark},\r\n        currentPrice, oldPrice} = this.props.data\r\n        return (\r\n            <div className=\"detail\">\r\n                <div className=\"detail__header\">\r\n                    <span>团购详情</span>\r\n                    <i className=\"detail__headerIcon\"></i>\r\n                </div>\r\n                <table cellPadding=\"0\" cellSpacing=\"0\" className=\"detail__table\">\r\n                    <tbody>\r\n                        <tr className=\"detail__row\">\r\n                            <th colSpan=\"3\" className=\"detail__category\">{category}</th>\r\n                        </tr>\r\n                        {products.map((item, index) => {\r\n                            return (<tr key={index} className=\"detail__row\">\r\n                                <td>{item.name}</td>\r\n                                <td className=\"detail__td--alignRight\">\r\n                                {item.quantity}\r\n                                </td>\r\n                                <td className=\"detail__td--alignRight\">\r\n                                {item.price}\r\n                                </td>\r\n                            </tr>)\r\n                        })}\r\n\r\n                        <tr className=\"detail__row\">\r\n                            <td className=\"detail__td--price\">\r\n                                最高价值\r\n                                <br/>\r\n                                <strong className=\"detail__td--priceNew\">团购价</strong>\r\n                            </td>\r\n                            <td/>\r\n                            <td className=\"detail__td--price\">\r\n                                {oldPrice}元\r\n                                <br/>\r\n                                <strong className=\"detail__td--priceNew\">{currentPrice}元</strong>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div className=\"detail__remark\">\r\n                    {remark}\r\n                </div>\r\n                <div className=\"detail__more\">\r\n                    <span>更多图文详情</span>\r\n                    <span className=\"detail__notice\">(建议Wifi环境下打卡，土豪请随意)</span>\r\n                    <i className=\"detail__arrow\"></i>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Detail;","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nexport default class Remark extends Component {\r\n    render() {\r\n        const { purchaseNotes, validityPeriod } = this.props.data\r\n        return (\r\n            <div className='remark'>\r\n                <div className='remark__header'>\r\n                    购买须知\r\n                    <i className='remark__icon'></i>\r\n                </div>\r\n                <div className='remark__list'>\r\n                    <dl className='remark__item'>\r\n                        <dt className='remark__itemTitle'>有效期</dt>\r\n                        <dd className='remark__itemDesc'>{validityPeriod}</dd>\r\n                    </dl>\r\n                    {purchaseNotes.map((item, index) => {\r\n                        return (\r\n                            <dl key={index} className='remark__item'>\r\n                                <dt className='remark__itemTitle'>{item.title}</dt>\r\n                                <dd className='remark__itemDesc'>{item.content}</dd>\r\n                            </dl>\r\n                        )\r\n                    })}\r\n                </div>              \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\n\r\nexport default class BuyButton extends Component {\r\n    render() {\r\n        const productId = this.props\r\n        return (\r\n            <Link to={`/purchase/${productId}`} className='buyButton'>\r\n                立即购买\r\n            </Link>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux'\r\nimport ProductOverview from './components/ProductOverview'\r\nimport ShopInfo from './components/ShopInfo'\r\nimport Detail from './components/Detail'\r\nimport Remark from './components/Remark'\r\nimport BuyButton from './components/BuyButton'\r\nimport Header from '../../components/Header'\r\nimport { actions as detailActions, getProduct,\r\ngetRelatedShop} from '../../redux/modules/detail'\r\nimport { connect } from 'react-redux'\r\n\r\nclass ProductDetail extends Component {\r\n    render() {\r\n        const { product, relatedShop } = this.props\r\n        return (\r\n            <div>\r\n                <Header title='团购详情' onBack={this.handleBack} \r\n                //grey={ture}\r\n                grey />\r\n                { product && <ProductOverview data={product}/> }\r\n                { relatedShop && <ShopInfo data={relatedShop} total={product.shopIds.length}/>}\r\n                { product && (\r\n                <div>\r\n                    <Detail data={product}/>\r\n                    <Remark data={product}/>\r\n                    <BuyButton productId={product.id}/>\r\n                </div>)}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { product } = this.props\r\n        if(!product) {\r\n            const productId = this.props.match.params.id\r\n            this.props.detailActions.loadProductDetail(productId)\r\n        } else if (!this.props.relatedShop) {\r\n            this.props.detailActions.loadShopById(product.nearestShop)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(preProps) {\r\n        //第一次获取产品详情时，获取店铺信息\r\n        if(!preProps.product && this.props.product) {\r\n            this.props.detailActions.loadShopById(this.props.product.nearestShop)\r\n        }\r\n    }\r\n\r\n    handleBack = () => {\r\n        this.props.history.goBack()\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const productId = props.match.params.id;\r\n    return  {\r\n        product: getProduct(state, productId),\r\n        relatedShop: getRelatedShop(state, productId)\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        detailActions: bindActionCreators(detailActions, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(ProductDetail);","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        const { grey, title, onBack } = this.props;\r\n        const backgroundColor = grey ? '#f0f0f0' : '#fff' ;\r\n        return (\r\n            <header className='header' style={{'backgroundColor':backgroundColor}}>\r\n                <div className='header__back' onClick={onBack}>\r\n                    返回\r\n                </div>\r\n                <div className='header__title'>{title}</div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}