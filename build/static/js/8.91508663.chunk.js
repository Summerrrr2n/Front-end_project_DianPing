(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{108:function(e,a,t){},109:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var r=t(17),n=t(18),c=t(20),s=t(19),o=t(21),i=t(0),l=t.n(i),u=t(62),p=(t(108),function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).handleDecrease=function(){var e=t.props.quantity;e>0&&t.props.onSetQuantity(Number.parseInt(e)-1)},t.handleIncrease=function(){var e=t.props.quantity;t.props.onSetQuantity(Number.parseInt(e)+1)},t.handleChange=function(e){var a=e.target.value;t.props.onSetQuantity(Number.parseInt(a))},t.handleClick=function(){t.props.quantity>0&&t.props.onSubmit()},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=(e.product.currentPrice,e.quantity),t=e.phone,r=e.totalPrice;return l.a.createElement("div",{className:"purchaseForm"},l.a.createElement("div",{className:"purchaseForm__wrapper"},l.a.createElement("div",{className:"purchaseForm__row1"},l.a.createElement("div",{className:"purchaseForm__rowLabel--1"},"\u6570\u91cf"),l.a.createElement("div",{className:"purchaseForm__rowValue"},l.a.createElement("span",{className:"purchaseForm__counter--dec",onClick:this.handleDecrease},"-"),l.a.createElement("input",{className:"purchaseForm__quantity",onChange:this.handleChange,value:a,type:"number"}),l.a.createElement("span",{className:"purchaseForm__counter--inc",onClick:this.handleIncrease},"+"))),l.a.createElement("div",{className:"purchaseForm__row"},l.a.createElement("div",{className:"purchaseForm__rowLabel"},"\u5c0f\u8ba1"),l.a.createElement("div",{className:"purchaseForm__rowValue"},l.a.createElement("span",{className:"purchaseForm__totalPrice"},"\xa5",r))),l.a.createElement("div",{className:"purchaseForm__row"},l.a.createElement("div",{className:"purchaseForm__rowLabel"},"\u624b\u673a\u53f7\u7801"),l.a.createElement("div",{className:"purchaseForm__rowValue"},t))),l.a.createElement("ul",{className:"purchaseForm__remark"},l.a.createElement("li",{className:"purchaseForm__remarkItem"},l.a.createElement("i",{className:"purchaseForm__sign"}),l.a.createElement("span",{className:"purchaseForm__decs"},"\u652f\u6301\u968f\u65f6\u9000")),l.a.createElement("li",{className:"purchaseForm__remarkItem"},l.a.createElement("i",{className:"purchaseForm__sign"}),l.a.createElement("span",{className:"purchaseForm__decs"},"\u652f\u6301\u8fc7\u671f\u9000"))),l.a.createElement("a",{className:"purchaseForm__submit",onClick:this.handleClick},"\u63d0\u4ea4\u8ba2\u5355"))}}]),a}(i.Component)),m=(t(109),function(e){function a(){return Object(r.a)(this,a),Object(c.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.message,t=e.onClose;return l.a.createElement("div",{className:"tip"},l.a.createElement("div",{className:"tip__alert"},l.a.createElement("div",{className:"tip__content"},a),l.a.createElement("div",{className:"tip__btns"},l.a.createElement("a",{className:"tip__btn",onClick:t},"\u786e\u5b9a"))))}}]),a}(i.Component)),h=t(22),d=t(40),_=t(25),b=t(6),f=t(34),v=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).componentWillUnmount=function(){t.props.purchaseActions.setOrderQuantity(1)},t.handleBack=function(){t.props.history.goBack()},t.handleCloseTip=function(){t.props.purchaseActions.closeTip()},t.handleSubmit=function(){var e=t.props.match.params.id;t.props.purchaseActions.submitOrder(e)},t.handleSetQuantity=function(e){t.props.purchaseActions.setOrderQuantity(e)},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.product,t=e.phone,r=e.quantity,n=e.showTip,c=e.totalPrice;return l.a.createElement("div",null,l.a.createElement(u.a,{title:"\u4e0b\u5355",onBack:this.handleBack}),a?l.a.createElement(p,{product:a,phone:t,quantity:r,totalPrice:c,onSubmit:this.handleSubmit,onSetQuantity:this.handleSetQuantity}):null,n?l.a.createElement(m,{message:"\u8d2d\u4e70\u6210\u529f\uff01",onClose:this.handleCloseTip}):null)}},{key:"componentDidMount",value:function(){if(!this.props.product){var e=this.props.match.params.id;this.props.detailActions.loadProductDetail(e)}}}]),a}(i.Component);a.default=Object(h.b)(function(e,a){var t=a.match.params.id;return{product:Object(d.c)(e,t),quantity:Object(d.d)(e),showTip:Object(d.e)(e),phone:Object(_.d)(e),totalPrice:Object(d.f)(e,t)}},function(e){return{purchaseActions:Object(b.b)(d.a,e),detailActions:Object(b.b)(f.a,e)}})(v)},62:function(e,a,t){"use strict";t.d(a,"a",function(){return u});var r=t(17),n=t(18),c=t(20),s=t(19),o=t(21),i=t(0),l=t.n(i),u=(t(63),function(e){function a(){return Object(r.a)(this,a),Object(c.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.grey,t=e.title,r=e.onBack,n=a?"#f0f0f0":"#fff";return l.a.createElement("header",{className:"header",style:{backgroundColor:n}},l.a.createElement("div",{className:"header__back",onClick:r},"\u8fd4\u56de"),l.a.createElement("div",{className:"header__title"},t))}}]),a}(i.Component))},63:function(e,a,t){}}]);
//# sourceMappingURL=8.91508663.chunk.js.map